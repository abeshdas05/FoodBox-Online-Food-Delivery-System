{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FoodItem } from '../model-classes/food-item.model';\nexport let FoodItemsManagementComponent = class FoodItemsManagementComponent {\n  constructor(service, route, router) {\n    this.service = service;\n    this.route = route;\n    this.router = router;\n    this.showList = true;\n    this.showAdd = false;\n    this.showEdit = false;\n    this.newFoodItem = new FoodItem();\n    this.foodItems = [];\n  }\n  ngOnInit() {\n    this.showList = true;\n    this.showEdit = false;\n    this.showAdd = false;\n    this.newFoodItem = new FoodItem();\n    this.categoryId = this.route.snapshot.params[`categoryId`];\n    this.loadFoodItems(this.categoryId);\n    this.getCategory();\n  }\n  enableAdd() {\n    this.showList = false;\n    this.showAdd = true;\n    this.showEdit = false;\n  }\n  enableEdit(foodItem) {\n    this.showList = false;\n    this.showAdd = false;\n    this.showEdit = true;\n    this.newFoodItem = {\n      ...foodItem\n    };\n  }\n  loadFoodItems(categoryId) {\n    this.service.getFoodItemsByCategory(categoryId).subscribe(foodItems => {\n      this.foodItems = foodItems;\n    });\n  }\n  getCategory() {\n    this.service.getCategoryById(this.categoryId).subscribe(category => this.selectedCategory = category);\n  }\n  editFoodItem(foodItem) {\n    this.service.editFoodItem(foodItem).subscribe(() => {\n      this.showList = true;\n      this.showEdit = false;\n      this.showAdd = false;\n      this.newFoodItem = new FoodItem();\n      this.loadFoodItems(this.categoryId);\n    });\n  }\n  toggleFoodItemStatus(foodItem) {\n    foodItem.enabled = !foodItem.enabled;\n    this.service.editFoodItem(foodItem).subscribe(() => {\n      this.loadFoodItems(this.categoryId);\n    });\n  }\n  deleteFoodItem(foodItemId) {\n    this.service.deleteFoodItem(foodItemId).subscribe(() => {\n      this.showList = true;\n      this.showEdit = false;\n      this.showAdd = false;\n      this.newFoodItem = new FoodItem();\n      this.loadFoodItems(this.categoryId);\n    });\n  }\n  addFoodItem(foodItem) {\n    console.log(foodItem);\n    this.service.addFoodItem(this.categoryId, foodItem).subscribe(message => {\n      if (message == '0') alert(\"Food item already exists!\");else {\n        this.showList = true;\n        this.showEdit = false;\n        this.showAdd = false;\n        this.newFoodItem = new FoodItem();\n        this.loadFoodItems(this.categoryId);\n      }\n    });\n  }\n};\nFoodItemsManagementComponent = __decorate([Component({\n  selector: 'app-food-items-management',\n  templateUrl: './food-items-management.component.html',\n  styleUrls: ['./food-items-management.component.css']\n})], FoodItemsManagementComponent);","map":{"version":3,"names":["Component","FoodItem","FoodItemsManagementComponent","constructor","service","route","router","showList","showAdd","showEdit","newFoodItem","foodItems","ngOnInit","categoryId","snapshot","params","loadFoodItems","getCategory","enableAdd","enableEdit","foodItem","getFoodItemsByCategory","subscribe","getCategoryById","category","selectedCategory","editFoodItem","toggleFoodItemStatus","enabled","deleteFoodItem","foodItemId","addFoodItem","console","log","message","alert","__decorate","selector","templateUrl","styleUrls"],"sources":["F:\\PP\\RLL\\FoodBox\\src\\app\\food-items-management\\food-items-management.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { FoodBoxService } from '../food-box.service';\nimport { FoodItem } from '../model-classes/food-item.model';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Category } from '../model-classes/category.model';\n@Component({\n  selector: 'app-food-items-management',\n  templateUrl: './food-items-management.component.html',\n  styleUrls: ['./food-items-management.component.css']\n})\nexport class FoodItemsManagementComponent implements OnInit {\n  showList = true;\n  showAdd = false;\n  showEdit=false;\n  newFoodItem: FoodItem = new FoodItem();\n  foodItems: FoodItem[] = [];\n  selectedCategory!: Category;\n  categoryId!: number;\n  constructor(\n    private service: FoodBoxService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n    this.showList=true;\n    this.showEdit=false;\n    this.showAdd = false;\n    this.newFoodItem=new FoodItem();\n    this.categoryId = this.route.snapshot.params[`categoryId`];\n    this.loadFoodItems(this.categoryId);\n    this.getCategory();\n\n  }\n  enableAdd(): void {\n    this.showList = false;\n    this.showAdd = true;\n    this.showEdit=false;\n  }\n  enableEdit(foodItem:FoodItem) : void {\n    this.showList = false;\n    this.showAdd = false;\n    this.showEdit=true;\n    this.newFoodItem = { ...foodItem };\n  }\n  loadFoodItems(categoryId: number): void {\n    this.service.getFoodItemsByCategory(categoryId).subscribe(foodItems => {\n      this.foodItems = foodItems;\n    });\n  }\n  getCategory(): void {\n    this.service.getCategoryById(this.categoryId).subscribe(\n      (category) => this.selectedCategory = category\n    )\n  }\n  editFoodItem(foodItem: FoodItem) {\n    this.service.editFoodItem(foodItem).subscribe(\n      ()=>{\n        this.showList=true;\n        this.showEdit=false;\n        this.showAdd = false;\n        this.newFoodItem=new FoodItem();\n        this.loadFoodItems(this.categoryId);\n      }\n    )\n  }\n\ntoggleFoodItemStatus(foodItem: FoodItem): void {\n  foodItem.enabled = !foodItem.enabled; \n  this.service.editFoodItem(foodItem).subscribe(() => {\n    this.loadFoodItems(this.categoryId); \n  });\n}\n\n\n  deleteFoodItem(foodItemId: number) {\n    this.service.deleteFoodItem(foodItemId).subscribe(\n      ()=>{\n        this.showList=true;\n        this.showEdit=false;\n        this.showAdd = false;\n        this.newFoodItem=new FoodItem();\n        this.loadFoodItems(this.categoryId);\n      }\n    )\n  }\n  addFoodItem(foodItem: FoodItem): void {\n    console.log(foodItem);\n\n    this.service.addFoodItem(this.categoryId, foodItem).subscribe(\n      (message) => {\n        if (message == '0')\n          alert(\"Food item already exists!\");\n        else {\n          this.showList=true;\n          this.showEdit=false;\n          this.showAdd = false;\n          this.newFoodItem=new FoodItem();\n          this.loadFoodItems(this.categoryId);\n         \n        }\n      }\n    )\n  }\n\n  //     this.previewImage = undefined;\n  //     this.isAdding = false;\n  //   }\n  // }\n}"],"mappings":";AAAA,SAASA,SAAS,QAAuB,eAAe;AAExD,SAASC,QAAQ,QAAQ,kCAAkC;AAQpD,WAAMC,4BAA4B,GAAlC,MAAMA,4BAA4B;EAQvCC,YACUC,OAAuB,EACvBC,KAAqB,EACrBC,MAAc;IAFd,KAAAF,OAAO,GAAPA,OAAO;IACP,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAC,MAAM,GAANA,MAAM;IAVhB,KAAAC,QAAQ,GAAG,IAAI;IACf,KAAAC,OAAO,GAAG,KAAK;IACf,KAAAC,QAAQ,GAAC,KAAK;IACd,KAAAC,WAAW,GAAa,IAAIT,QAAQ,EAAE;IACtC,KAAAU,SAAS,GAAe,EAAE;EAOtB;EAEJC,QAAQA,CAAA;IACN,IAAI,CAACL,QAAQ,GAAC,IAAI;IAClB,IAAI,CAACE,QAAQ,GAAC,KAAK;IACnB,IAAI,CAACD,OAAO,GAAG,KAAK;IACpB,IAAI,CAACE,WAAW,GAAC,IAAIT,QAAQ,EAAE;IAC/B,IAAI,CAACY,UAAU,GAAG,IAAI,CAACR,KAAK,CAACS,QAAQ,CAACC,MAAM,CAAC,YAAY,CAAC;IAC1D,IAAI,CAACC,aAAa,CAAC,IAAI,CAACH,UAAU,CAAC;IACnC,IAAI,CAACI,WAAW,EAAE;EAEpB;EACAC,SAASA,CAAA;IACP,IAAI,CAACX,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,QAAQ,GAAC,KAAK;EACrB;EACAU,UAAUA,CAACC,QAAiB;IAC1B,IAAI,CAACb,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,OAAO,GAAG,KAAK;IACpB,IAAI,CAACC,QAAQ,GAAC,IAAI;IAClB,IAAI,CAACC,WAAW,GAAG;MAAE,GAAGU;IAAQ,CAAE;EACpC;EACAJ,aAAaA,CAACH,UAAkB;IAC9B,IAAI,CAACT,OAAO,CAACiB,sBAAsB,CAACR,UAAU,CAAC,CAACS,SAAS,CAACX,SAAS,IAAG;MACpE,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC5B,CAAC,CAAC;EACJ;EACAM,WAAWA,CAAA;IACT,IAAI,CAACb,OAAO,CAACmB,eAAe,CAAC,IAAI,CAACV,UAAU,CAAC,CAACS,SAAS,CACpDE,QAAQ,IAAK,IAAI,CAACC,gBAAgB,GAAGD,QAAQ,CAC/C;EACH;EACAE,YAAYA,CAACN,QAAkB;IAC7B,IAAI,CAAChB,OAAO,CAACsB,YAAY,CAACN,QAAQ,CAAC,CAACE,SAAS,CAC3C,MAAI;MACF,IAAI,CAACf,QAAQ,GAAC,IAAI;MAClB,IAAI,CAACE,QAAQ,GAAC,KAAK;MACnB,IAAI,CAACD,OAAO,GAAG,KAAK;MACpB,IAAI,CAACE,WAAW,GAAC,IAAIT,QAAQ,EAAE;MAC/B,IAAI,CAACe,aAAa,CAAC,IAAI,CAACH,UAAU,CAAC;IACrC,CAAC,CACF;EACH;EAEFc,oBAAoBA,CAACP,QAAkB;IACrCA,QAAQ,CAACQ,OAAO,GAAG,CAACR,QAAQ,CAACQ,OAAO;IACpC,IAAI,CAACxB,OAAO,CAACsB,YAAY,CAACN,QAAQ,CAAC,CAACE,SAAS,CAAC,MAAK;MACjD,IAAI,CAACN,aAAa,CAAC,IAAI,CAACH,UAAU,CAAC;IACrC,CAAC,CAAC;EACJ;EAGEgB,cAAcA,CAACC,UAAkB;IAC/B,IAAI,CAAC1B,OAAO,CAACyB,cAAc,CAACC,UAAU,CAAC,CAACR,SAAS,CAC/C,MAAI;MACF,IAAI,CAACf,QAAQ,GAAC,IAAI;MAClB,IAAI,CAACE,QAAQ,GAAC,KAAK;MACnB,IAAI,CAACD,OAAO,GAAG,KAAK;MACpB,IAAI,CAACE,WAAW,GAAC,IAAIT,QAAQ,EAAE;MAC/B,IAAI,CAACe,aAAa,CAAC,IAAI,CAACH,UAAU,CAAC;IACrC,CAAC,CACF;EACH;EACAkB,WAAWA,CAACX,QAAkB;IAC5BY,OAAO,CAACC,GAAG,CAACb,QAAQ,CAAC;IAErB,IAAI,CAAChB,OAAO,CAAC2B,WAAW,CAAC,IAAI,CAAClB,UAAU,EAAEO,QAAQ,CAAC,CAACE,SAAS,CAC1DY,OAAO,IAAI;MACV,IAAIA,OAAO,IAAI,GAAG,EAChBC,KAAK,CAAC,2BAA2B,CAAC,CAAC,KAChC;QACH,IAAI,CAAC5B,QAAQ,GAAC,IAAI;QAClB,IAAI,CAACE,QAAQ,GAAC,KAAK;QACnB,IAAI,CAACD,OAAO,GAAG,KAAK;QACpB,IAAI,CAACE,WAAW,GAAC,IAAIT,QAAQ,EAAE;QAC/B,IAAI,CAACe,aAAa,CAAC,IAAI,CAACH,UAAU,CAAC;;IAGvC,CAAC,CACF;EACH;CAMD;AAnGYX,4BAA4B,GAAAkC,UAAA,EALxCpC,SAAS,CAAC;EACTqC,QAAQ,EAAE,2BAA2B;EACrCC,WAAW,EAAE,wCAAwC;EACrDC,SAAS,EAAE,CAAC,uCAAuC;CACpD,CAAC,C,EACWrC,4BAA4B,CAmGxC"},"metadata":{},"sourceType":"module","externalDependencies":[]}