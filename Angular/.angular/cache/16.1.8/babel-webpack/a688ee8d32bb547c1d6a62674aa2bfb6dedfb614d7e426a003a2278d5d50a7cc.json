{"ast":null,"code":"var _class;\nimport { User } from '../model-classes/user.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../food-box.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction FoodListComponent_li_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 2);\n    i0.ɵɵlistener(\"click\", function FoodListComponent_li_8_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const category_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.filterByCategory(category_r2));\n    });\n    i0.ɵɵelementStart(1, \"a\", 3)(2, \"i\", 4);\n    i0.ɵɵtext(3, \"fastfood\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 5);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const category_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"active\", ctx_r0.selectedCategory === category_r2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(category_r2.name);\n  }\n}\nfunction FoodListComponent_div_27_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"del\", 50);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 40);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const foodItem_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Actual Price: \", i0.ɵɵpipeBind2(3, 2, foodItem_r5.actualPrice, \"INR\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Price: \", i0.ɵɵpipeBind2(6, 5, foodItem_r5.actualPrice * (1 - foodItem_r5.offer / 100), \"INR\"), \" \");\n  }\n}\nfunction FoodListComponent_div_27_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\", 40);\n    i0.ɵɵtext(2, \" \\u00A0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 40);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const foodItem_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" Price: \", i0.ɵɵpipeBind2(5, 1, foodItem_r5.actualPrice, \"INR\"), \" \");\n  }\n}\nfunction FoodListComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"div\")(2, \"div\", 35);\n    i0.ɵɵelement(3, \"img\", 36);\n    i0.ɵɵelementStart(4, \"div\", 37)(5, \"h3\", 38);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h4\", 39);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 40);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, FoodListComponent_div_27_div_11_Template, 7, 8, \"div\", 41);\n    i0.ɵɵtemplate(12, FoodListComponent_div_27_div_12_Template, 6, 4, \"div\", 41);\n    i0.ɵɵelementStart(13, \"p\", 40);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 42)(16, \"div\", 43)(17, \"div\", 44)(18, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function FoodListComponent_div_27_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const i_r6 = restoredCtx.index;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.decreaseQuantity(i_r6));\n    });\n    i0.ɵɵtext(19, \" - \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"input\", 46);\n    i0.ɵɵlistener(\"ngModelChange\", function FoodListComponent_div_27_Template_input_ngModelChange_20_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const i_r6 = restoredCtx.index;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.quantities[i_r6] = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 47)(22, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function FoodListComponent_div_27_Template_button_click_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const i_r6 = restoredCtx.index;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.increaseQuantity(i_r6));\n    });\n    i0.ɵɵtext(23, \" + \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"button\", 49);\n    i0.ɵɵlistener(\"click\", function FoodListComponent_div_27_Template_button_click_24_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const foodItem_r5 = restoredCtx.$implicit;\n      const i_r6 = restoredCtx.index;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.addToCart(foodItem_r5, ctx_r15.quantities[i_r6]));\n    });\n    i0.ɵɵtext(25, \" Add to Cart \");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const foodItem_r5 = ctx.$implicit;\n    const i_r6 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", foodItem_r5.imagePath, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", foodItem_r5.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(foodItem_r5.category.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(foodItem_r5.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", foodItem_r5.offer);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !foodItem_r5.offer);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Available Quantity: \", foodItem_r5.availableQuantity, \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.quantities[i_r6]);\n  }\n}\nexport class FoodListComponent {\n  constructor(service) {\n    this.service = service;\n    this.user = new User();\n    this.userEmail = sessionStorage.getItem('userSession');\n    this.foodItems = [];\n    this.quantities = [];\n    this.filteredFoodItems = [];\n    this.categories = [];\n    this.selectedCategory = null;\n    this.searchQuery = '';\n    this.selectedSortOption = 'default';\n    this.alertMessage = '';\n  }\n  ngOnInit() {\n    this.getUser();\n    this.getCategories();\n    this.getFoodItems();\n  }\n  getUser() {\n    console.log(this.userEmail);\n    this.service.getUserByEmail(this.userEmail).subscribe(user => {\n      this.user = user;\n      console.log(this.user);\n    });\n  }\n  getCategories() {\n    this.service.getCategories().subscribe(categories => {\n      this.categories = categories;\n    });\n  }\n  getFoodItems() {\n    this.service.getFoodItems().subscribe(foodItems => {\n      this.foodItems = foodItems;\n      this.filteredFoodItems = foodItems;\n      this.initializeQuantities();\n    });\n  }\n  initializeQuantities() {\n    this.quantities = new Array(this.foodItems.length).fill(1);\n  }\n  addToCart(foodItem, quantity) {\n    if (quantity <= 0) {\n      this.showAlertModal('Please select a valid quantity');\n    } else if (quantity <= foodItem.availableQuantity) {\n      this.service.addToCart(foodItem.foodItemId, quantity, this.user.userId).subscribe(() => {\n        console.log(foodItem.foodItemId, quantity);\n        foodItem.availableQuantity = foodItem.availableQuantity - quantity;\n        this.service.editFoodItem(foodItem).subscribe(() => {\n          this.getFoodItems();\n        });\n        this.getFoodItems();\n        this.showSuccessModal();\n      });\n    } else {\n      this.showAlertModal('Quantity exceeds available quantity');\n    }\n  }\n  showSuccessModal() {\n    const modal = document.getElementById('successModal');\n    if (modal) {\n      modal.style.display = 'block';\n    }\n  }\n  closeSuccessModal() {\n    const modal = document.getElementById('successModal');\n    if (modal) {\n      modal.style.display = 'none';\n    }\n  }\n  showAlertModal(message) {\n    const modal = document.getElementById('alertModal');\n    this.alertMessage = message;\n    if (modal) {\n      modal.style.display = 'block';\n    }\n  }\n  closeAlertModal() {\n    const modal = document.getElementById('alertModal');\n    if (modal) {\n      modal.style.display = 'none';\n    }\n  }\n  increaseQuantity(i) {\n    this.quantities[i]++;\n  }\n  decreaseQuantity(i) {\n    this.quantities[i]--;\n  }\n  filterByCategory(category) {\n    this.selectedCategory = category;\n    if (category) {\n      this.filteredFoodItems = this.foodItems.filter(foodItem => foodItem.category.categoryId === category.categoryId);\n    } else {\n      this.filteredFoodItems = this.foodItems;\n    }\n  }\n  applyFilters() {\n    this.filterByCategory(this.selectedCategory);\n    this.filteredFoodItems = this.filteredFoodItems.filter(item => item.name.toLowerCase().includes(this.searchQuery.toLowerCase()));\n    if (this.selectedSortOption === 'lowToHigh') {\n      this.filteredFoodItems.sort((a, b) => a.actualPrice * (1 - a.offer / 100) - b.actualPrice * (1 - b.offer / 100));\n    } else if (this.selectedSortOption === 'highToLow') {\n      this.filteredFoodItems.sort((a, b) => b.actualPrice * (1 - b.offer / 100) - a.actualPrice * (1 - a.offer / 100));\n    }\n    if (this.searchQuery) {\n      this.filteredFoodItems = this.filteredFoodItems.filter(item => item.name.toLowerCase().includes(this.searchQuery.toLowerCase()));\n    }\n  }\n}\n_class = FoodListComponent;\n_class.ɵfac = function FoodListComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.FoodBoxService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-food-list\"]],\n  decls: 54,\n  vars: 7,\n  consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-primary\"], [1, \"navbar-nav\", \"category-scroll-container\"], [1, \"nav-item\", 3, \"click\"], [1, \"nav-link\"], [1, \"material-icons\"], [1, \"icon-text\"], [\"class\", \"nav-item\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"row\", \"mb-3\"], [1, \"col-md-6\"], [1, \"input-group\"], [\"type\", \"text\", \"placeholder\", \"Search for food items\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-info\", 3, \"click\"], [1, \"col-md-3\"], [\"id\", \"sortOption\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"label\", \"Sort By\"], [\"value\", \"default\"], [\"value\", \"lowToHigh\"], [\"value\", \"highToLow\"], [\"class\", \"col-md-4 mb-4\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"successModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"successModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"successModalLabel\", 1, \"modal-title\", 2, \"color\", \"green\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\", \"btn-danger\", 3, \"click\"], [1, \"modal-body\"], [2, \"color\", \"blue\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [\"id\", \"alertModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"alertModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\"], [\"id\", \"alertModalLabel\", 1, \"modal-title\", 2, \"color\", \"red\"], [2, \"color\", \"black\"], [1, \"col-md-4\", \"mb-4\"], [1, \"card\"], [\"alt\", \"Food Image\", 1, \"card-img-top\", \"card-img\", 3, \"src\"], [1, \"card-body\"], [1, \"card-title\", 2, \"color\", \"tomato\"], [1, \"card-title\"], [1, \"card-text\"], [4, \"ngIf\"], [2, \"margin\", \"0 auto\", \"display\", \"flex\", \"align-items\", \"center\"], [1, \"input-group\", \"mr-2\"], [1, \"input-group-prepend\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-warning\", 2, \"border-radius\", \"30%\", 3, \"click\"], [\"type\", \"text\", \"readonly\", \"\", \"min\", \"1\", 1, \"form-control\", \"text-center\", 2, \"max-width\", \"50px\", \"border-radius\", \"30%\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group-append\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-success\", 2, \"border-radius\", \"30%\", 3, \"click\"], [1, \"btn\", \"btn-success\", \"add-to-cart-button\", 3, \"click\"], [1, \"text-muted\"]],\n  template: function FoodListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0)(1, \"ul\", 1)(2, \"li\", 2);\n      i0.ɵɵlistener(\"click\", function FoodListComponent_Template_li_click_2_listener() {\n        return ctx.filterByCategory(null);\n      });\n      i0.ɵɵelementStart(3, \"a\", 3)(4, \"i\", 4);\n      i0.ɵɵtext(5, \"all_inclusive\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"span\", 5);\n      i0.ɵɵtext(7, \"All\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(8, FoodListComponent_li_8_Template, 6, 3, \"li\", 6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 7)(10, \"div\", 8)(11, \"div\", 9)(12, \"div\", 10)(13, \"div\", 11)(14, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function FoodListComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.searchQuery = $event;\n      })(\"input\", function FoodListComponent_Template_input_input_14_listener() {\n        return ctx.applyFilters();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"button\", 13);\n      i0.ɵɵlistener(\"click\", function FoodListComponent_Template_button_click_15_listener() {\n        ctx.searchQuery = \"\";\n        return ctx.applyFilters();\n      });\n      i0.ɵɵtext(16, \" Clear \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(17, \"div\", 14);\n      i0.ɵɵelementStart(18, \"div\", 14)(19, \"select\", 15);\n      i0.ɵɵlistener(\"ngModelChange\", function FoodListComponent_Template_select_ngModelChange_19_listener($event) {\n        return ctx.selectedSortOption = $event;\n      })(\"change\", function FoodListComponent_Template_select_change_19_listener() {\n        return ctx.applyFilters();\n      });\n      i0.ɵɵelementStart(20, \"optgroup\", 16)(21, \"option\", 17);\n      i0.ɵɵtext(22, \"Default\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"option\", 18);\n      i0.ɵɵtext(24, \"Price: Low to High\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"option\", 19);\n      i0.ɵɵtext(26, \"Price: High to Low\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵtemplate(27, FoodListComponent_div_27_Template, 26, 8, \"div\", 20);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"div\", 21)(29, \"div\", 22)(30, \"div\", 23)(31, \"div\", 24)(32, \"h5\", 25);\n      i0.ɵɵtext(33, \" Item Added to Cart \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"button\", 26);\n      i0.ɵɵlistener(\"click\", function FoodListComponent_Template_button_click_34_listener() {\n        return ctx.closeSuccessModal();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(35, \"div\", 27)(36, \"h6\", 28);\n      i0.ɵɵtext(37, \" The selected item has been successfully added to your cart. \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(38, \"div\", 29)(39, \"button\", 30);\n      i0.ɵɵlistener(\"click\", function FoodListComponent_Template_button_click_39_listener() {\n        return ctx.closeSuccessModal();\n      });\n      i0.ɵɵtext(40, \" Close \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(41, \"div\", 31)(42, \"div\", 22)(43, \"div\", 23)(44, \"div\", 24)(45, \"h5\", 32);\n      i0.ɵɵtext(46, \" Alert! \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"button\", 26);\n      i0.ɵɵlistener(\"click\", function FoodListComponent_Template_button_click_47_listener() {\n        return ctx.closeAlertModal();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(48, \"div\", 27)(49, \"h6\", 33);\n      i0.ɵɵtext(50);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(51, \"div\", 29)(52, \"button\", 30);\n      i0.ɵɵlistener(\"click\", function FoodListComponent_Template_button_click_52_listener() {\n        return ctx.closeAlertModal();\n      });\n      i0.ɵɵtext(53, \" Close \");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵclassProp(\"active\", ctx.selectedCategory === null);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchQuery);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedSortOption);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngForOf\", ctx.filteredFoodItems);\n      i0.ɵɵadvance(23);\n      i0.ɵɵtextInterpolate(ctx.alertMessage);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel, i2.CurrencyPipe],\n  styles: [\".navbar-nav[_ngcontent-%COMP%] {\\n    margin: auto;\\n  }\\n  \\n  \\n  .nav-link.active[_ngcontent-%COMP%] {\\n    font-weight: bold;\\n    color: yellow;\\n  }\\n  \\n \\n  .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%] {\\n    margin: 0 10px;\\n    cursor: pointer;\\n  }\\n  \\n  \\n  .container-fluid[_ngcontent-%COMP%] {\\n    padding-top: 20px;\\n  }\\n  .category-scroll-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    overflow-x: auto;\\n    padding: 0 10px; \\n  }\\n  \\n  .category-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar {\\n    height: 5px;\\n  }\\n  \\n  .category-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\\n    background-color: rgba(0, 0, 0, 0.3); \\n    border-radius: 5px; \\n  }\\n  \\n  .category-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track {\\n    background-color: transparent; \\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZm9vZC1saXN0L2Zvb2QtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTtJQUNJLFlBQVk7RUFDZDs7O0VBR0E7SUFDRSxpQkFBaUI7SUFDakIsYUFBYTtFQUNmOzs7RUFHQTtJQUNFLGNBQWM7SUFDZCxlQUFlO0VBQ2pCOzs7RUFHQTtJQUNFLGlCQUFpQjtFQUNuQjtFQUNBO0lBQ0UsYUFBYTtJQUNiLGdCQUFnQjtJQUNoQixlQUFlO0VBQ2pCOztFQUVBO0lBQ0UsV0FBVztFQUNiOztFQUVBO0lBQ0Usb0NBQW9DO0lBQ3BDLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLDZCQUE2QjtFQUMvQiIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4ubmF2YmFyLW5hdiB7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgfVxyXG4gIFxyXG4gIFxyXG4gIC5uYXYtbGluay5hY3RpdmUge1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBjb2xvcjogeWVsbG93O1xyXG4gIH1cclxuICBcclxuIFxyXG4gIC5uYXZiYXItbmF2IC5uYXYtaXRlbSB7XHJcbiAgICBtYXJnaW46IDAgMTBweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9XHJcbiAgXHJcbiAgXHJcbiAgLmNvbnRhaW5lci1mbHVpZCB7XHJcbiAgICBwYWRkaW5nLXRvcDogMjBweDtcclxuICB9XHJcbiAgLmNhdGVnb3J5LXNjcm9sbC1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIG92ZXJmbG93LXg6IGF1dG87XHJcbiAgICBwYWRkaW5nOiAwIDEwcHg7IFxyXG4gIH1cclxuICBcclxuICAuY2F0ZWdvcnktc2Nyb2xsLWNvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gICAgaGVpZ2h0OiA1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5jYXRlZ29yeS1zY3JvbGwtY29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMyk7IFxyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4OyBcclxuICB9XHJcbiAgXHJcbiAgLmNhdGVnb3J5LXNjcm9sbC1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyBcclxuICB9XHJcbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["User","i0","ɵɵelementStart","ɵɵlistener","FoodListComponent_li_8_Template_li_click_0_listener","restoredCtx","ɵɵrestoreView","_r4","category_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","filterByCategory","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵclassProp","ctx_r0","selectedCategory","ɵɵtextInterpolate","name","ɵɵtextInterpolate1","ɵɵpipeBind2","foodItem_r5","actualPrice","offer","ɵɵelement","ɵɵtemplate","FoodListComponent_div_27_div_11_Template","FoodListComponent_div_27_div_12_Template","FoodListComponent_div_27_Template_button_click_18_listener","_r12","i_r6","index","ctx_r11","decreaseQuantity","FoodListComponent_div_27_Template_input_ngModelChange_20_listener","$event","ctx_r13","quantities","FoodListComponent_div_27_Template_button_click_22_listener","ctx_r14","increaseQuantity","FoodListComponent_div_27_Template_button_click_24_listener","ctx_r15","addToCart","ɵɵpropertyInterpolate","imagePath","ɵɵsanitizeUrl","category","description","ɵɵproperty","availableQuantity","ctx_r1","FoodListComponent","constructor","service","user","userEmail","sessionStorage","getItem","foodItems","filteredFoodItems","categories","searchQuery","selectedSortOption","alertMessage","ngOnInit","getUser","getCategories","getFoodItems","console","log","getUserByEmail","subscribe","initializeQuantities","Array","length","fill","foodItem","quantity","showAlertModal","foodItemId","userId","editFoodItem","showSuccessModal","modal","document","getElementById","style","display","closeSuccessModal","message","closeAlertModal","i","filter","categoryId","applyFilters","item","toLowerCase","includes","sort","a","b","ɵɵdirectiveInject","i1","FoodBoxService","selectors","decls","vars","consts","template","FoodListComponent_Template","rf","ctx","FoodListComponent_Template_li_click_2_listener","FoodListComponent_li_8_Template","FoodListComponent_Template_input_ngModelChange_14_listener","FoodListComponent_Template_input_input_14_listener","FoodListComponent_Template_button_click_15_listener","FoodListComponent_Template_select_ngModelChange_19_listener","FoodListComponent_Template_select_change_19_listener","FoodListComponent_div_27_Template","FoodListComponent_Template_button_click_34_listener","FoodListComponent_Template_button_click_39_listener","FoodListComponent_Template_button_click_47_listener","FoodListComponent_Template_button_click_52_listener"],"sources":["F:\\PP\\RLL\\FoodBox\\src\\app\\food-list\\food-list.component.ts","F:\\PP\\RLL\\FoodBox\\src\\app\\food-list\\food-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FoodBoxService } from '../food-box.service';\nimport { FoodItem } from '../model-classes/food-item.model';\nimport { Category } from '../model-classes/category.model';\nimport { User } from '../model-classes/user.model';\n\n@Component({\n  selector: 'app-food-list',\n  templateUrl: './food-list.component.html',\n  styleUrls: ['./food-list.component.css']\n})\nexport class FoodListComponent implements OnInit {\n  user:User=new User();\n  userEmail=sessionStorage.getItem('userSession');\n  constructor(private service: FoodBoxService) { }\n  foodItems: FoodItem[] = [];\n  quantities: number[] = [];\n  filteredFoodItems: FoodItem[] = [];\n  categories: Category[] = [];\n  selectedCategory: Category | null = null;\n  searchQuery = '';\n  selectedSortOption: string = 'default';\n  alertMessage='';\n  ngOnInit(): void {\n    this.getUser();\n    this.getCategories();\n    this.getFoodItems();\n  }\n  getUser(): void {\n    console.log(this.userEmail);\n\n    this.service.getUserByEmail(this.userEmail).subscribe(\n\n      user => {\n        this.user = user;\n        console.log(this.user);\n      }\n    )\n  }\n  getCategories() {\n    this.service.getCategories().subscribe(categories => {\n      this.categories = categories;\n\n    });\n  }\n\n  getFoodItems(): void {\n    this.service.getFoodItems().subscribe(foodItems => {\n      this.foodItems = foodItems;\n      this.filteredFoodItems = foodItems;\n      this.initializeQuantities();\n    });\n  }\n  \n  initializeQuantities(): void {\n    this.quantities = new Array(this.foodItems.length).fill(1);\n  }\n  addToCart(foodItem: FoodItem, quantity: number): void {\n    if (quantity <= 0) {\n      this.showAlertModal('Please select a valid quantity');\n    }\n    else if (quantity <= foodItem.availableQuantity) {\n      this.service.addToCart(foodItem.foodItemId, quantity,this.user.userId).subscribe(\n        () => {\n          console.log(foodItem.foodItemId,quantity);          \n          foodItem.availableQuantity=foodItem.availableQuantity-quantity;\n          this.service.editFoodItem(foodItem).subscribe(\n            ()=>{\n              this.getFoodItems();\n            }\n          )\n          this.getFoodItems();\n          this.showSuccessModal();\n        }\n      );\n\n\n    } else {\n      this.showAlertModal('Quantity exceeds available quantity');\n    }\n  }\n  showSuccessModal(): void {\n    const modal = document.getElementById('successModal');\n    if (modal) {\n      modal.style.display = 'block';\n    }\n  }\n  closeSuccessModal(): void {\n    const modal = document.getElementById('successModal');\n    if (modal) {\n      modal.style.display = 'none';\n    }\n  }\n  showAlertModal(message:string): void {\n    const modal = document.getElementById('alertModal');\n    this.alertMessage=message;\n    if (modal) {\n      modal.style.display = 'block';\n    }\n  }\n  closeAlertModal(): void {\n    const modal = document.getElementById('alertModal');\n    if (modal) {\n      modal.style.display = 'none';\n    }\n  }\n  increaseQuantity(i: number): void {\n    this.quantities[i]++;\n  }\n\n  decreaseQuantity(i: number): void {\n    this.quantities[i]--;\n  }\n  filterByCategory(category: Category | null): void {\n    this.selectedCategory = category;\n    if (category) {\n      this.filteredFoodItems = this.foodItems.filter(\n        foodItem => foodItem.category.categoryId === category.categoryId\n        \n      );\n    } else {\n      this.filteredFoodItems = this.foodItems;\n    }\n  }\n  applyFilters(): void {\n    this.filterByCategory(this.selectedCategory);\n    this.filteredFoodItems = this.filteredFoodItems.filter(item =>\n      item.name.toLowerCase().includes(this.searchQuery.toLowerCase())\n    );\n    if (this.selectedSortOption === 'lowToHigh') {\n      this.filteredFoodItems.sort((a, b) => a.actualPrice*(1-a.offer/100) - b.actualPrice*(1-b.offer/100));\n    } else if (this.selectedSortOption === 'highToLow') {\n      this.filteredFoodItems.sort((a, b) =>  b.actualPrice*(1-b.offer/100) -a.actualPrice*(1-a.offer/100));\n    }\n\n    if (this.searchQuery) {\n      this.filteredFoodItems = this.filteredFoodItems.filter(item =>\n        item.name.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n    }\n  }\n  \n\n}\n","<nav class=\"navbar navbar-expand-lg navbar-light bg-primary\">\n  <ul class=\"navbar-nav category-scroll-container\">\n    <li class=\"nav-item\" (click)=\"filterByCategory(null)\">\n      <a class=\"nav-link\" [class.active]=\"selectedCategory === null\">\n        <i class=\"material-icons\">all_inclusive</i>\n        <span class=\"icon-text\">All</span>\n      </a>\n    </li>\n    <li\n      class=\"nav-item\"\n      *ngFor=\"let category of categories\"\n      (click)=\"filterByCategory(category)\"\n    >\n      <a class=\"nav-link\" [class.active]=\"selectedCategory === category\">\n        <i class=\"material-icons\">fastfood</i>\n        <span class=\"icon-text\">{{ category.name }}</span>\n      </a>\n    </li>\n  </ul>\n</nav>\n\n<div class=\"container-fluid\">\n  <div class=\"row\">\n    <div class=\"row mb-3\">\n      <div class=\"col-md-6\">\n        <!-- Search bar -->\n        <div class=\"input-group\">\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            [(ngModel)]=\"searchQuery\"\n            placeholder=\"Search for food items\"\n            (input)=\"applyFilters()\"\n          />\n          <button\n            class=\"btn btn-outline-info\"\n            type=\"button\"\n            (click)=\"searchQuery = ''; applyFilters()\"\n          >\n            Clear\n          </button>\n        </div>\n      </div>\n      <div class=\"col-md-3\"></div>\n      <div class=\"col-md-3\">\n        <!-- Filter select -->\n\n        <select\n          class=\"form-select\"\n          id=\"sortOption\"\n          [(ngModel)]=\"selectedSortOption\"\n          (change)=\"applyFilters()\"\n        >\n          <optgroup label=\"Sort By\">\n            <option value=\"default\">Default</option>\n            <option value=\"lowToHigh\">Price: Low to High</option>\n            <option value=\"highToLow\">Price: High to Low</option>\n          </optgroup>\n        </select>\n      </div>\n    </div>\n\n    <div\n      class=\"col-md-4 mb-4\"\n      *ngFor=\"let foodItem of filteredFoodItems; let i = index\"\n    >\n    <div >\n      <div class=\"card\" >\n        <img\n          src=\"{{ foodItem.imagePath }}\"\n          class=\"card-img-top card-img\"\n          alt=\"Food Image\"\n        />\n        <div class=\"card-body\">\n          <h3 class=\"card-title\" style=\"color: tomato\">\n            {{ foodItem.name }}\n          </h3>\n          <h4 class=\"card-title\">{{ foodItem.category.name }}</h4>\n          <p class=\"card-text\">{{ foodItem.description }}</p>\n          <div *ngIf=\"foodItem.offer\">\n            <del class=\"text-muted\">\n              Actual Price: {{ foodItem.actualPrice | currency : \"INR\" }}\n            </del>\n            <p class=\"card-text\">\n              Price:\n              {{\n                foodItem.actualPrice * (1 - foodItem.offer / 100)\n                  | currency : \"INR\"\n              }}\n            </p>\n          </div>\n          <div *ngIf=\"!foodItem.offer\">\n            <p class=\"card-text\">  &nbsp;</p>\n            <p class=\"card-text\">\n              Price: {{ foodItem.actualPrice | currency : \"INR\" }}\n            </p>\n          </div>\n          <p class=\"card-text\">\n            Available Quantity: {{ foodItem.availableQuantity }}\n          </p>\n          <div style=\"margin: 0 auto; display: flex; align-items: center\">\n            <div class=\"input-group mr-2\">\n              <div class=\"input-group-prepend\">\n                <button\n                  class=\"btn btn-outline-warning\"\n                  type=\"button\"\n                  (click)=\"decreaseQuantity(i)\"\n                  style=\"border-radius: 30%\"\n                >\n                  -\n                </button>\n              </div>\n              <input\n                type=\"text\"\n                class=\"form-control text-center\"\n                style=\"max-width: 50px; border-radius: 30%\"\n                [(ngModel)]=\"quantities[i]\"\n                readonly\n                min=\"1\"\n              />\n              <div class=\"input-group-append\">\n                <button\n                  class=\"btn btn-outline-success\"\n                  type=\"button\"\n                  (click)=\"increaseQuantity(i)\"\n                  style=\"border-radius: 30%\"\n                >\n                  +\n                </button>\n              </div>\n            </div>\n            <button\n              class=\"btn btn-success add-to-cart-button\"\n              (click)=\"addToCart(foodItem, quantities[i])\"\n            >\n              Add to Cart\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    </div>\n  </div>\n</div>\n<div\n  class=\"modal\"\n  id=\"successModal\"\n  tabindex=\"-1\"\n  role=\"dialog\"\n  aria-labelledby=\"successModalLabel\"\n  aria-hidden=\"true\"\n>\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"successModalLabel\" style=\"color: green\">\n          Item Added to Cart\n        </h5>\n        <button\n          type=\"button\"\n          class=\"btn-close btn-danger\"\n          data-dismiss=\"modal\"\n          aria-label=\"Close\"\n          (click)=\"closeSuccessModal()\"\n        ></button>\n      </div>\n      <div class=\"modal-body\">\n        <h6 style=\"color: blue\">\n          The selected item has been successfully added to your cart.\n        </h6>\n      </div>\n      <div class=\"modal-footer\">\n        <button\n          type=\"button\"\n          class=\"btn btn-danger\"\n          data-dismiss=\"modal\"\n          (click)=\"closeSuccessModal()\"\n        >\n          Close\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n<div\n  class=\"modal\"\n  id=\"alertModal\"\n  tabindex=\"-1\"\n  role=\"dialog\"\n  aria-labelledby=\"alertModalLabel\"\n  aria-hidden=\"true\"\n>\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"alertModalLabel\" style=\"color: red\">\n          Alert!\n        </h5>\n        <button\n          type=\"button\"\n          class=\"btn-close btn-danger\"\n          data-dismiss=\"modal\"\n          aria-label=\"Close\"\n          (click)=\"closeAlertModal()\"\n        ></button>\n      </div>\n      <div class=\"modal-body\">\n        <h6 style=\"color: black\">{{ alertMessage }}</h6>\n      </div>\n      <div class=\"modal-footer\">\n        <button\n          type=\"button\"\n          class=\"btn btn-danger\"\n          data-dismiss=\"modal\"\n          (click)=\"closeAlertModal()\"\n        >\n          Close\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":";AAIA,SAASA,IAAI,QAAQ,6BAA6B;;;;;;;;ICI9CC,EAAA,CAAAC,cAAA,YAIC;IADCD,EAAA,CAAAE,UAAA,mBAAAC,oDAAA;MAAA,MAAAC,WAAA,GAAAJ,EAAA,CAAAK,aAAA,CAAAC,GAAA;MAAA,MAAAC,WAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAC,MAAA,GAAAT,EAAA,CAAAU,aAAA;MAAA,OAASV,EAAA,CAAAW,WAAA,CAAAF,MAAA,CAAAG,gBAAA,CAAAL,WAAA,CAA0B;IAAA,EAAC;IAEpCP,EAAA,CAAAC,cAAA,WAAmE;IACvCD,EAAA,CAAAa,MAAA,eAAQ;IAAAb,EAAA,CAAAc,YAAA,EAAI;IACtCd,EAAA,CAAAC,cAAA,cAAwB;IAAAD,EAAA,CAAAa,MAAA,GAAmB;IAAAb,EAAA,CAAAc,YAAA,EAAO;;;;;IAFhCd,EAAA,CAAAe,SAAA,GAA8C;IAA9Cf,EAAA,CAAAgB,WAAA,WAAAC,MAAA,CAAAC,gBAAA,KAAAX,WAAA,CAA8C;IAExCP,EAAA,CAAAe,SAAA,GAAmB;IAAnBf,EAAA,CAAAmB,iBAAA,CAAAZ,WAAA,CAAAa,IAAA,CAAmB;;;;;IAgEzCpB,EAAA,CAAAC,cAAA,UAA4B;IAExBD,EAAA,CAAAa,MAAA,GACF;;IAAAb,EAAA,CAAAc,YAAA,EAAM;IACNd,EAAA,CAAAC,cAAA,YAAqB;IACnBD,EAAA,CAAAa,MAAA,GAKF;;IAAAb,EAAA,CAAAc,YAAA,EAAI;;;;IARFd,EAAA,CAAAe,SAAA,GACF;IADEf,EAAA,CAAAqB,kBAAA,oBAAArB,EAAA,CAAAsB,WAAA,OAAAC,WAAA,CAAAC,WAAA,cACF;IAEExB,EAAA,CAAAe,SAAA,GAKF;IALEf,EAAA,CAAAqB,kBAAA,aAAArB,EAAA,CAAAsB,WAAA,OAAAC,WAAA,CAAAC,WAAA,QAAAD,WAAA,CAAAE,KAAA,qBAKF;;;;;IAEFzB,EAAA,CAAAC,cAAA,UAA6B;IACJD,EAAA,CAAAa,MAAA,cAAM;IAAAb,EAAA,CAAAc,YAAA,EAAI;IACjCd,EAAA,CAAAC,cAAA,YAAqB;IACnBD,EAAA,CAAAa,MAAA,GACF;;IAAAb,EAAA,CAAAc,YAAA,EAAI;;;;IADFd,EAAA,CAAAe,SAAA,GACF;IADEf,EAAA,CAAAqB,kBAAA,aAAArB,EAAA,CAAAsB,WAAA,OAAAC,WAAA,CAAAC,WAAA,cACF;;;;;;IAjCRxB,EAAA,CAAAC,cAAA,cAGC;IAGGD,EAAA,CAAA0B,SAAA,cAIE;IACF1B,EAAA,CAAAC,cAAA,cAAuB;IAEnBD,EAAA,CAAAa,MAAA,GACF;IAAAb,EAAA,CAAAc,YAAA,EAAK;IACLd,EAAA,CAAAC,cAAA,aAAuB;IAAAD,EAAA,CAAAa,MAAA,GAA4B;IAAAb,EAAA,CAAAc,YAAA,EAAK;IACxDd,EAAA,CAAAC,cAAA,YAAqB;IAAAD,EAAA,CAAAa,MAAA,IAA0B;IAAAb,EAAA,CAAAc,YAAA,EAAI;IACnDd,EAAA,CAAA2B,UAAA,KAAAC,wCAAA,kBAWM;IACN5B,EAAA,CAAA2B,UAAA,KAAAE,wCAAA,kBAKM;IACN7B,EAAA,CAAAC,cAAA,aAAqB;IACnBD,EAAA,CAAAa,MAAA,IACF;IAAAb,EAAA,CAAAc,YAAA,EAAI;IACJd,EAAA,CAAAC,cAAA,eAAgE;IAMxDD,EAAA,CAAAE,UAAA,mBAAA4B,2DAAA;MAAA,MAAA1B,WAAA,GAAAJ,EAAA,CAAAK,aAAA,CAAA0B,IAAA;MAAA,MAAAC,IAAA,GAAA5B,WAAA,CAAA6B,KAAA;MAAA,MAAAC,OAAA,GAAAlC,EAAA,CAAAU,aAAA;MAAA,OAASV,EAAA,CAAAW,WAAA,CAAAuB,OAAA,CAAAC,gBAAA,CAAAH,IAAA,CAAmB;IAAA,EAAC;IAG7BhC,EAAA,CAAAa,MAAA,WACF;IAAAb,EAAA,CAAAc,YAAA,EAAS;IAEXd,EAAA,CAAAC,cAAA,iBAOE;IAHAD,EAAA,CAAAE,UAAA,2BAAAkC,kEAAAC,MAAA;MAAA,MAAAjC,WAAA,GAAAJ,EAAA,CAAAK,aAAA,CAAA0B,IAAA;MAAA,MAAAC,IAAA,GAAA5B,WAAA,CAAA6B,KAAA;MAAA,MAAAK,OAAA,GAAAtC,EAAA,CAAAU,aAAA;MAAA,OAAAV,EAAA,CAAAW,WAAA,CAAA2B,OAAA,CAAAC,UAAA,CAAAP,IAAA,IAAAK,MAAA;IAAA,EAA2B;IAJ7BrC,EAAA,CAAAc,YAAA,EAOE;IACFd,EAAA,CAAAC,cAAA,eAAgC;IAI5BD,EAAA,CAAAE,UAAA,mBAAAsC,2DAAA;MAAA,MAAApC,WAAA,GAAAJ,EAAA,CAAAK,aAAA,CAAA0B,IAAA;MAAA,MAAAC,IAAA,GAAA5B,WAAA,CAAA6B,KAAA;MAAA,MAAAQ,OAAA,GAAAzC,EAAA,CAAAU,aAAA;MAAA,OAASV,EAAA,CAAAW,WAAA,CAAA8B,OAAA,CAAAC,gBAAA,CAAAV,IAAA,CAAmB;IAAA,EAAC;IAG7BhC,EAAA,CAAAa,MAAA,WACF;IAAAb,EAAA,CAAAc,YAAA,EAAS;IAGbd,EAAA,CAAAC,cAAA,kBAGC;IADCD,EAAA,CAAAE,UAAA,mBAAAyC,2DAAA;MAAA,MAAAvC,WAAA,GAAAJ,EAAA,CAAAK,aAAA,CAAA0B,IAAA;MAAA,MAAAR,WAAA,GAAAnB,WAAA,CAAAI,SAAA;MAAA,MAAAwB,IAAA,GAAA5B,WAAA,CAAA6B,KAAA;MAAA,MAAAW,OAAA,GAAA5C,EAAA,CAAAU,aAAA;MAAA,OAASV,EAAA,CAAAW,WAAA,CAAAiC,OAAA,CAAAC,SAAA,CAAAtB,WAAA,EAAAqB,OAAA,CAAAL,UAAA,CAAAP,IAAA,EAAkC;IAAA,EAAC;IAE5ChC,EAAA,CAAAa,MAAA,qBACF;IAAAb,EAAA,CAAAc,YAAA,EAAS;;;;;;IAnEXd,EAAA,CAAAe,SAAA,GAA8B;IAA9Bf,EAAA,CAAA8C,qBAAA,QAAAvB,WAAA,CAAAwB,SAAA,EAAA/C,EAAA,CAAAgD,aAAA,CAA8B;IAM5BhD,EAAA,CAAAe,SAAA,GACF;IADEf,EAAA,CAAAqB,kBAAA,MAAAE,WAAA,CAAAH,IAAA,MACF;IACuBpB,EAAA,CAAAe,SAAA,GAA4B;IAA5Bf,EAAA,CAAAmB,iBAAA,CAAAI,WAAA,CAAA0B,QAAA,CAAA7B,IAAA,CAA4B;IAC9BpB,EAAA,CAAAe,SAAA,GAA0B;IAA1Bf,EAAA,CAAAmB,iBAAA,CAAAI,WAAA,CAAA2B,WAAA,CAA0B;IACzClD,EAAA,CAAAe,SAAA,GAAoB;IAApBf,EAAA,CAAAmD,UAAA,SAAA5B,WAAA,CAAAE,KAAA,CAAoB;IAYpBzB,EAAA,CAAAe,SAAA,GAAqB;IAArBf,EAAA,CAAAmD,UAAA,UAAA5B,WAAA,CAAAE,KAAA,CAAqB;IAOzBzB,EAAA,CAAAe,SAAA,GACF;IADEf,EAAA,CAAAqB,kBAAA,0BAAAE,WAAA,CAAA6B,iBAAA,MACF;IAiBMpD,EAAA,CAAAe,SAAA,GAA2B;IAA3Bf,EAAA,CAAAmD,UAAA,YAAAE,MAAA,CAAAd,UAAA,CAAAP,IAAA,EAA2B;;;ADzG3C,OAAM,MAAOsB,iBAAiB;EAG5BC,YAAoBC,OAAuB;IAAvB,KAAAA,OAAO,GAAPA,OAAO;IAF3B,KAAAC,IAAI,GAAM,IAAI1D,IAAI,EAAE;IACpB,KAAA2D,SAAS,GAACC,cAAc,CAACC,OAAO,CAAC,aAAa,CAAC;IAE/C,KAAAC,SAAS,GAAe,EAAE;IAC1B,KAAAtB,UAAU,GAAa,EAAE;IACzB,KAAAuB,iBAAiB,GAAe,EAAE;IAClC,KAAAC,UAAU,GAAe,EAAE;IAC3B,KAAA7C,gBAAgB,GAAoB,IAAI;IACxC,KAAA8C,WAAW,GAAG,EAAE;IAChB,KAAAC,kBAAkB,GAAW,SAAS;IACtC,KAAAC,YAAY,GAAC,EAAE;EARgC;EAS/CC,QAAQA,CAAA;IACN,IAAI,CAACC,OAAO,EAAE;IACd,IAAI,CAACC,aAAa,EAAE;IACpB,IAAI,CAACC,YAAY,EAAE;EACrB;EACAF,OAAOA,CAAA;IACLG,OAAO,CAACC,GAAG,CAAC,IAAI,CAACd,SAAS,CAAC;IAE3B,IAAI,CAACF,OAAO,CAACiB,cAAc,CAAC,IAAI,CAACf,SAAS,CAAC,CAACgB,SAAS,CAEnDjB,IAAI,IAAG;MACL,IAAI,CAACA,IAAI,GAAGA,IAAI;MAChBc,OAAO,CAACC,GAAG,CAAC,IAAI,CAACf,IAAI,CAAC;IACxB,CAAC,CACF;EACH;EACAY,aAAaA,CAAA;IACX,IAAI,CAACb,OAAO,CAACa,aAAa,EAAE,CAACK,SAAS,CAACX,UAAU,IAAG;MAClD,IAAI,CAACA,UAAU,GAAGA,UAAU;IAE9B,CAAC,CAAC;EACJ;EAEAO,YAAYA,CAAA;IACV,IAAI,CAACd,OAAO,CAACc,YAAY,EAAE,CAACI,SAAS,CAACb,SAAS,IAAG;MAChD,IAAI,CAACA,SAAS,GAAGA,SAAS;MAC1B,IAAI,CAACC,iBAAiB,GAAGD,SAAS;MAClC,IAAI,CAACc,oBAAoB,EAAE;IAC7B,CAAC,CAAC;EACJ;EAEAA,oBAAoBA,CAAA;IAClB,IAAI,CAACpC,UAAU,GAAG,IAAIqC,KAAK,CAAC,IAAI,CAACf,SAAS,CAACgB,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;EAC5D;EACAjC,SAASA,CAACkC,QAAkB,EAAEC,QAAgB;IAC5C,IAAIA,QAAQ,IAAI,CAAC,EAAE;MACjB,IAAI,CAACC,cAAc,CAAC,gCAAgC,CAAC;KACtD,MACI,IAAID,QAAQ,IAAID,QAAQ,CAAC3B,iBAAiB,EAAE;MAC/C,IAAI,CAACI,OAAO,CAACX,SAAS,CAACkC,QAAQ,CAACG,UAAU,EAAEF,QAAQ,EAAC,IAAI,CAACvB,IAAI,CAAC0B,MAAM,CAAC,CAACT,SAAS,CAC9E,MAAK;QACHH,OAAO,CAACC,GAAG,CAACO,QAAQ,CAACG,UAAU,EAACF,QAAQ,CAAC;QACzCD,QAAQ,CAAC3B,iBAAiB,GAAC2B,QAAQ,CAAC3B,iBAAiB,GAAC4B,QAAQ;QAC9D,IAAI,CAACxB,OAAO,CAAC4B,YAAY,CAACL,QAAQ,CAAC,CAACL,SAAS,CAC3C,MAAI;UACF,IAAI,CAACJ,YAAY,EAAE;QACrB,CAAC,CACF;QACD,IAAI,CAACA,YAAY,EAAE;QACnB,IAAI,CAACe,gBAAgB,EAAE;MACzB,CAAC,CACF;KAGF,MAAM;MACL,IAAI,CAACJ,cAAc,CAAC,qCAAqC,CAAC;;EAE9D;EACAI,gBAAgBA,CAAA;IACd,MAAMC,KAAK,GAAGC,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC;IACrD,IAAIF,KAAK,EAAE;MACTA,KAAK,CAACG,KAAK,CAACC,OAAO,GAAG,OAAO;;EAEjC;EACAC,iBAAiBA,CAAA;IACf,MAAML,KAAK,GAAGC,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC;IACrD,IAAIF,KAAK,EAAE;MACTA,KAAK,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM;;EAEhC;EACAT,cAAcA,CAACW,OAAc;IAC3B,MAAMN,KAAK,GAAGC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;IACnD,IAAI,CAACtB,YAAY,GAAC0B,OAAO;IACzB,IAAIN,KAAK,EAAE;MACTA,KAAK,CAACG,KAAK,CAACC,OAAO,GAAG,OAAO;;EAEjC;EACAG,eAAeA,CAAA;IACb,MAAMP,KAAK,GAAGC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;IACnD,IAAIF,KAAK,EAAE;MACTA,KAAK,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM;;EAEhC;EACAhD,gBAAgBA,CAACoD,CAAS;IACxB,IAAI,CAACvD,UAAU,CAACuD,CAAC,CAAC,EAAE;EACtB;EAEA3D,gBAAgBA,CAAC2D,CAAS;IACxB,IAAI,CAACvD,UAAU,CAACuD,CAAC,CAAC,EAAE;EACtB;EACAlF,gBAAgBA,CAACqC,QAAyB;IACxC,IAAI,CAAC/B,gBAAgB,GAAG+B,QAAQ;IAChC,IAAIA,QAAQ,EAAE;MACZ,IAAI,CAACa,iBAAiB,GAAG,IAAI,CAACD,SAAS,CAACkC,MAAM,CAC5ChB,QAAQ,IAAIA,QAAQ,CAAC9B,QAAQ,CAAC+C,UAAU,KAAK/C,QAAQ,CAAC+C,UAAU,CAEjE;KACF,MAAM;MACL,IAAI,CAAClC,iBAAiB,GAAG,IAAI,CAACD,SAAS;;EAE3C;EACAoC,YAAYA,CAAA;IACV,IAAI,CAACrF,gBAAgB,CAAC,IAAI,CAACM,gBAAgB,CAAC;IAC5C,IAAI,CAAC4C,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,CAACiC,MAAM,CAACG,IAAI,IACzDA,IAAI,CAAC9E,IAAI,CAAC+E,WAAW,EAAE,CAACC,QAAQ,CAAC,IAAI,CAACpC,WAAW,CAACmC,WAAW,EAAE,CAAC,CACjE;IACD,IAAI,IAAI,CAAClC,kBAAkB,KAAK,WAAW,EAAE;MAC3C,IAAI,CAACH,iBAAiB,CAACuC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAC9E,WAAW,IAAE,CAAC,GAAC8E,CAAC,CAAC7E,KAAK,GAAC,GAAG,CAAC,GAAG8E,CAAC,CAAC/E,WAAW,IAAE,CAAC,GAAC+E,CAAC,CAAC9E,KAAK,GAAC,GAAG,CAAC,CAAC;KACrG,MAAM,IAAI,IAAI,CAACwC,kBAAkB,KAAK,WAAW,EAAE;MAClD,IAAI,CAACH,iBAAiB,CAACuC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAMA,CAAC,CAAC/E,WAAW,IAAE,CAAC,GAAC+E,CAAC,CAAC9E,KAAK,GAAC,GAAG,CAAC,GAAE6E,CAAC,CAAC9E,WAAW,IAAE,CAAC,GAAC8E,CAAC,CAAC7E,KAAK,GAAC,GAAG,CAAC,CAAC;;IAGtG,IAAI,IAAI,CAACuC,WAAW,EAAE;MACpB,IAAI,CAACF,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,CAACiC,MAAM,CAACG,IAAI,IACzDA,IAAI,CAAC9E,IAAI,CAAC+E,WAAW,EAAE,CAACC,QAAQ,CAAC,IAAI,CAACpC,WAAW,CAACmC,WAAW,EAAE,CAAC,CACjE;;EAEL;;SAjIW7C,iBAAiB;;mBAAjBA,MAAiB,EAAAtD,EAAA,CAAAwG,iBAAA,CAAAC,EAAA,CAAAC,cAAA;AAAA;;QAAjBpD,MAAiB;EAAAqD,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCX9BjH,EAAA,CAAAC,cAAA,aAA6D;MAEpCD,EAAA,CAAAE,UAAA,mBAAAiH,+CAAA;QAAA,OAASD,GAAA,CAAAtG,gBAAA,CAAiB,IAAI,CAAC;MAAA,EAAC;MACnDZ,EAAA,CAAAC,cAAA,WAA+D;MACnCD,EAAA,CAAAa,MAAA,oBAAa;MAAAb,EAAA,CAAAc,YAAA,EAAI;MAC3Cd,EAAA,CAAAC,cAAA,cAAwB;MAAAD,EAAA,CAAAa,MAAA,UAAG;MAAAb,EAAA,CAAAc,YAAA,EAAO;MAGtCd,EAAA,CAAA2B,UAAA,IAAAyF,+BAAA,gBASK;MACPpH,EAAA,CAAAc,YAAA,EAAK;MAGPd,EAAA,CAAAC,cAAA,aAA6B;MASjBD,EAAA,CAAAE,UAAA,2BAAAmH,2DAAAhF,MAAA;QAAA,OAAA6E,GAAA,CAAAlD,WAAA,GAAA3B,MAAA;MAAA,EAAyB,mBAAAiF,mDAAA;QAAA,OAEhBJ,GAAA,CAAAjB,YAAA,EAAc;MAAA,EAFE;MAH3BjG,EAAA,CAAAc,YAAA,EAME;MACFd,EAAA,CAAAC,cAAA,kBAIC;MADCD,EAAA,CAAAE,UAAA,mBAAAqH,oDAAA;QAAAL,GAAA,CAAAlD,WAAA,GAAuB,EAAE;QAAA,OAAEkD,GAAA,CAAAjB,YAAA,EAAc;MAAA,EAAC;MAE1CjG,EAAA,CAAAa,MAAA,eACF;MAAAb,EAAA,CAAAc,YAAA,EAAS;MAGbd,EAAA,CAAA0B,SAAA,eAA4B;MAC5B1B,EAAA,CAAAC,cAAA,eAAsB;MAMlBD,EAAA,CAAAE,UAAA,2BAAAsH,4DAAAnF,MAAA;QAAA,OAAA6E,GAAA,CAAAjD,kBAAA,GAAA5B,MAAA;MAAA,EAAgC,oBAAAoF,qDAAA;QAAA,OACtBP,GAAA,CAAAjB,YAAA,EAAc;MAAA,EADQ;MAGhCjG,EAAA,CAAAC,cAAA,oBAA0B;MACAD,EAAA,CAAAa,MAAA,eAAO;MAAAb,EAAA,CAAAc,YAAA,EAAS;MACxCd,EAAA,CAAAC,cAAA,kBAA0B;MAAAD,EAAA,CAAAa,MAAA,0BAAkB;MAAAb,EAAA,CAAAc,YAAA,EAAS;MACrDd,EAAA,CAAAC,cAAA,kBAA0B;MAAAD,EAAA,CAAAa,MAAA,0BAAkB;MAAAb,EAAA,CAAAc,YAAA,EAAS;MAM7Dd,EAAA,CAAA2B,UAAA,KAAA+F,iCAAA,mBA+EM;MACR1H,EAAA,CAAAc,YAAA,EAAM;MAERd,EAAA,CAAAC,cAAA,eAOC;MAKSD,EAAA,CAAAa,MAAA,4BACF;MAAAb,EAAA,CAAAc,YAAA,EAAK;MACLd,EAAA,CAAAC,cAAA,kBAMC;MADCD,EAAA,CAAAE,UAAA,mBAAAyH,oDAAA;QAAA,OAAST,GAAA,CAAAvB,iBAAA,EAAmB;MAAA,EAAC;MAC9B3F,EAAA,CAAAc,YAAA,EAAS;MAEZd,EAAA,CAAAC,cAAA,eAAwB;MAEpBD,EAAA,CAAAa,MAAA,qEACF;MAAAb,EAAA,CAAAc,YAAA,EAAK;MAEPd,EAAA,CAAAC,cAAA,eAA0B;MAKtBD,EAAA,CAAAE,UAAA,mBAAA0H,oDAAA;QAAA,OAASV,GAAA,CAAAvB,iBAAA,EAAmB;MAAA,EAAC;MAE7B3F,EAAA,CAAAa,MAAA,eACF;MAAAb,EAAA,CAAAc,YAAA,EAAS;MAKjBd,EAAA,CAAAC,cAAA,eAOC;MAKSD,EAAA,CAAAa,MAAA,gBACF;MAAAb,EAAA,CAAAc,YAAA,EAAK;MACLd,EAAA,CAAAC,cAAA,kBAMC;MADCD,EAAA,CAAAE,UAAA,mBAAA2H,oDAAA;QAAA,OAASX,GAAA,CAAArB,eAAA,EAAiB;MAAA,EAAC;MAC5B7F,EAAA,CAAAc,YAAA,EAAS;MAEZd,EAAA,CAAAC,cAAA,eAAwB;MACGD,EAAA,CAAAa,MAAA,IAAkB;MAAAb,EAAA,CAAAc,YAAA,EAAK;MAElDd,EAAA,CAAAC,cAAA,eAA0B;MAKtBD,EAAA,CAAAE,UAAA,mBAAA4H,oDAAA;QAAA,OAASZ,GAAA,CAAArB,eAAA,EAAiB;MAAA,EAAC;MAE3B7F,EAAA,CAAAa,MAAA,eACF;MAAAb,EAAA,CAAAc,YAAA,EAAS;;;MAtNSd,EAAA,CAAAe,SAAA,GAA0C;MAA1Cf,EAAA,CAAAgB,WAAA,WAAAkG,GAAA,CAAAhG,gBAAA,UAA0C;MAOzClB,EAAA,CAAAe,SAAA,GAAa;MAAbf,EAAA,CAAAmD,UAAA,YAAA+D,GAAA,CAAAnD,UAAA,CAAa;MAoB5B/D,EAAA,CAAAe,SAAA,GAAyB;MAAzBf,EAAA,CAAAmD,UAAA,YAAA+D,GAAA,CAAAlD,WAAA,CAAyB;MAoB3BhE,EAAA,CAAAe,SAAA,GAAgC;MAAhCf,EAAA,CAAAmD,UAAA,YAAA+D,GAAA,CAAAjD,kBAAA,CAAgC;MAcfjE,EAAA,CAAAe,SAAA,GAAsB;MAAtBf,EAAA,CAAAmD,UAAA,YAAA+D,GAAA,CAAApD,iBAAA,CAAsB;MA+IhB9D,EAAA,CAAAe,SAAA,IAAkB;MAAlBf,EAAA,CAAAmB,iBAAA,CAAA+F,GAAA,CAAAhD,YAAA,CAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}