{"ast":null,"code":"var _class;\nimport { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../food-box.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction ReviewComponent_div_2_li_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelement(1, \"i\", 27);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReviewComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵelement(1, \"img\", 20);\n    i0.ɵɵelementStart(2, \"div\", 21)(3, \"div\", 22)(4, \"h5\", 11);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 23);\n    i0.ɵɵelement(7, \"i\", 24);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"ul\", 25);\n    i0.ɵɵtemplate(10, ReviewComponent_div_2_li_10_Template, 2, 0, \"li\", 26);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const review_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", review_r1 === ctx_r0.reviewlist[0]);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(review_r1.reviewUserName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", review_r1.reviewComment, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.getArray(review_r1.reviewStar));\n  }\n}\nexport class ReviewComponent {\n  constructor(service, rev) {\n    this.service = service;\n    this.rev = rev;\n    this.reviewUserName = '';\n  }\n  ngOnInit() {\n    let response = this.service.getReviews();\n    response.subscribe(data => this.reviewlist = data);\n    this.service.getUserByEmail(sessionStorage.getItem('userSession')).subscribe(user => {\n      this.reviewUserName = user.name;\n      this.initializeForm();\n    });\n  }\n  initializeForm() {\n    this.addReviewItem = this.rev.group({\n      reviewUserName: new FormControl({\n        value: this.reviewUserName,\n        disabled: true\n      }, [Validators.required]),\n      reviewComment: new FormControl('', [Validators.required]),\n      reviewStar: new FormControl('', [Validators.required])\n    });\n  }\n  getArray(count) {\n    return new Array(count);\n  }\n  submitReview() {\n    console.log(this.addReviewItem.value);\n    let response = this.service.addReview(this.addReviewItem.value);\n    response.subscribe(data => {\n      this.message = data;\n      this.addReviewItem.reset();\n    });\n  }\n}\n_class = ReviewComponent;\n_class.ɵfac = function ReviewComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.FoodBoxService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-review\"]],\n  decls: 33,\n  vars: 2,\n  consts: [[\"id\", \"carouselExampleControls\", \"data-mdb-ride\", \"carousel\", 1, \"carousel\", \"slide\", \"text-center\", \"carousel-dark\"], [1, \"carousel-inner\"], [\"class\", \"carousel-item\", 3, \"active\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"data-mdb-target\", \"#carouselExampleControls\", \"data-mdb-slide\", \"prev\", 1, \"carousel-control-prev\"], [\"aria-hidden\", \"true\", 1, \"carousel-control-prev-icon\"], [1, \"visually-hidden\"], [\"type\", \"button\", \"data-mdb-target\", \"#carouselExampleControls\", \"data-mdb-slide\", \"next\", 1, \"carousel-control-next\"], [\"aria-hidden\", \"true\", 1, \"carousel-control-next-icon\"], [1, \"container\", \"py-4\", 2, \"max-width\", \"400px\"], [1, \"text-center\"], [3, \"formGroup\"], [1, \"mb-3\"], [\"for\", \"name\", 1, \"form-label\"], [\"id\", \"name\", \"type\", \"text\", \"formControlName\", \"reviewUserName\", 1, \"form-control\"], [\"for\", \"message\", 1, \"form-label\"], [\"type\", \"textarea\", \"formControlName\", \"reviewComment\", \"placeholder\", \"Please Provide any Comments for your suggestions\", 1, \"form-control\"], [\"type\", \"number\", \"formControlName\", \"reviewStar\", \"min\", \"1\", \"max\", \"5\", \"placeholder\", \"Please Provide the star (1-5)\", 1, \"form-control\"], [1, \"d-grid\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-lg\", 3, \"click\"], [1, \"carousel-item\"], [\"src\", \"https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(10).webp\", \"alt\", \"avatar\", 1, \"rounded-circle\", \"shadow-1-strong\", \"mb-4\", 2, \"width\", \"150px\"], [1, \"row\", \"d-flex\", \"justify-content-center\"], [1, \"col-lg-8\"], [1, \"text-muted\"], [1, \"fas\", \"fa-quote-left\", \"pe-2\"], [1, \"list-unstyled\", \"d-flex\", \"justify-content-center\", \"text-warning\", \"mb-0\"], [4, \"ngFor\", \"ngForOf\"], [1, \"fas\", \"fa-star\", \"fa-sm\"]],\n  template: function ReviewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtemplate(2, ReviewComponent_div_2_Template, 11, 5, \"div\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 3);\n      i0.ɵɵelement(4, \"span\", 4);\n      i0.ɵɵelementStart(5, \"span\", 5);\n      i0.ɵɵtext(6, \"Previous\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"button\", 6);\n      i0.ɵɵelement(8, \"span\", 7);\n      i0.ɵɵelementStart(9, \"span\", 5);\n      i0.ɵɵtext(10, \"Next\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"div\", 8)(12, \"h2\");\n      i0.ɵɵtext(13, \"Thank you for your order!! Please Leave a Review\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"br\");\n      i0.ɵɵelementStart(15, \"h4\", 9);\n      i0.ɵɵtext(16, \"Review Form\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"form\", 10)(18, \"div\", 11)(19, \"label\", 12);\n      i0.ɵɵtext(20, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"input\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 11)(23, \"label\", 14);\n      i0.ɵɵtext(24, \"Comments\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"textarea\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 11)(27, \"label\", 14);\n      i0.ɵɵtext(28, \"Review\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(29, \"input\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"div\", 17)(31, \"button\", 18);\n      i0.ɵɵlistener(\"click\", function ReviewComponent_Template_button_click_31_listener() {\n        return ctx.submitReview();\n      });\n      i0.ɵɵtext(32, \"Submit\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.reviewlist);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"formGroup\", ctx.addReviewItem);\n    }\n  },\n  dependencies: [i3.NgForOf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.MinValidator, i2.MaxValidator, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["FormControl","Validators","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵtemplate","ReviewComponent_div_2_li_10_Template","ɵɵclassProp","review_r1","ctx_r0","reviewlist","ɵɵadvance","ɵɵtextInterpolate","reviewUserName","ɵɵtextInterpolate1","reviewComment","ɵɵproperty","getArray","reviewStar","ReviewComponent","constructor","service","rev","ngOnInit","response","getReviews","subscribe","data","getUserByEmail","sessionStorage","getItem","user","name","initializeForm","addReviewItem","group","value","disabled","required","count","Array","submitReview","console","log","addReview","message","reset","ɵɵdirectiveInject","i1","FoodBoxService","i2","FormBuilder","selectors","decls","vars","consts","template","ReviewComponent_Template","rf","ctx","ReviewComponent_div_2_Template","ɵɵlistener","ReviewComponent_Template_button_click_31_listener"],"sources":["F:\\PP\\RLL\\FoodBox\\src\\app\\review\\review.component.ts","F:\\PP\\RLL\\FoodBox\\src\\app\\review\\review.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FoodBoxService } from '../food-box.service';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-review',\n  templateUrl: './review.component.html',\n  styleUrls: ['./review.component.css']\n})\nexport class ReviewComponent implements OnInit {\n  reviewUserName = '';\n  reviewlist: any[];\n  addReviewItem: FormGroup;\n\n  constructor(private service: FoodBoxService, private rev: FormBuilder) {}\n\n  ngOnInit(): void {\n    let response = this.service.getReviews();\n    response.subscribe((data: any) => (this.reviewlist = data));\n\n    this.service.getUserByEmail(sessionStorage.getItem('userSession')).subscribe(\n      (user) => {\n        this.reviewUserName = user.name;\n        this.initializeForm();\n      }\n    );\n  }\n\n  initializeForm(): void {\n    this.addReviewItem = this.rev.group({\n      reviewUserName: new FormControl({ value: this.reviewUserName, disabled: true }, [Validators.required]),\n      reviewComment: new FormControl('', [Validators.required]),\n      reviewStar: new FormControl('', [Validators.required])\n    });\n  }\n\n  getArray(count: number): any[] {\n    return new Array(count);\n  }\n\n  message: any;\n\n  submitReview(): void {\n    console.log(this.addReviewItem.value);\n    let response = this.service.addReview(this.addReviewItem.value);\n    response.subscribe((data: any) => {\n      this.message = data;\n      this.addReviewItem.reset();\n    });\n  }\n}\n","<div id=\"carouselExampleControls\" class=\"carousel slide text-center carousel-dark\" data-mdb-ride=\"carousel\">\n    <div class=\"carousel-inner\">\n      <div class=\"carousel-item\" [class.active]=\"review === reviewlist[0]\" *ngFor=\"let review of reviewlist\">\n        <img class=\"rounded-circle shadow-1-strong mb-4\"\n          src=\"https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(10).webp\" alt=\"avatar\" style=\"width: 150px;\" />\n        <div class=\"row d-flex justify-content-center\">\n          <div class=\"col-lg-8\">\n            <h5 class=\"mb-3\">{{ review.reviewUserName }}</h5>\n            <p class=\"text-muted\">\n              <i class=\"fas fa-quote-left pe-2\"></i>\n              {{ review.reviewComment }}\n            </p>\n          </div>\n        </div>\n        <ul class=\"list-unstyled d-flex justify-content-center text-warning mb-0\">\n          <li *ngFor=\"let rstar of getArray(review.reviewStar)\"><i class=\"fas fa-star fa-sm\"></i></li>\n        </ul>\n      </div>\n    </div>\n    <button class=\"carousel-control-prev\" type=\"button\" data-mdb-target=\"#carouselExampleControls\" data-mdb-slide=\"prev\">\n      <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n      <span class=\"visually-hidden\">Previous</span>\n    </button>\n    <button class=\"carousel-control-next\" type=\"button\" data-mdb-target=\"#carouselExampleControls\" data-mdb-slide=\"next\">\n      <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n      <span class=\"visually-hidden\">Next</span>\n    </button>\n  </div>\n  \n  <div class=\"container py-4\" style=\"max-width: 400px;\">\n    <h2>Thank you for your order!! Please Leave a Review</h2>\n    <br>\n    <h4 class=\"text-center\">Review Form</h4>\n    <form [formGroup]=\"addReviewItem\">\n      <div class=\"mb-3\">\n        <label class=\"form-label\" for=\"name\">Name</label>\n        <input class=\"form-control\" id=\"name\" type=\"text\" formControlName=\"reviewUserName\" />\n      </div>\n      <div class=\"mb-3\">\n        <label class=\"form-label\" for=\"message\">Comments</label>\n        <textarea class=\"form-control\" type=\"textarea\" formControlName=\"reviewComment\"\n          placeholder=\"Please Provide any Comments for your suggestions\"></textarea>\n      </div>\n      <div class=\"mb-3\">\n        <label class=\"form-label\" for=\"message\">Review</label>\n        <input class=\"form-control\" type=\"number\" formControlName=\"reviewStar\" min=\"1\" max=\"5\"\n          placeholder=\"Please Provide the star (1-5)\">\n      </div>\n      <div class=\"d-grid\">\n        <button class=\"btn btn-primary btn-lg\" type=\"submit\" (click)=\"submitReview()\">Submit</button>\n      </div>\n    </form>\n  </div>\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}